-- LocalScript (StarterPlayerScripts o StarterGui)
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")

local player = Players.LocalPlayer
local gui = Instance.new("ScreenGui")
gui.Name = "TPGui"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 220, 0, 120)
frame.Position = UDim2.new(0.5, -110, 0.5, -60)
frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
frame.Active = true
frame.Draggable = true
frame.Parent = gui

local saveBtn = Instance.new("TextButton")
saveBtn.Size = UDim2.new(1, -20, 0, 40)
saveBtn.Position = UDim2.new(0, 10, 0, 10)
saveBtn.Text = "üíæ Guardar Posici√≥n"
saveBtn.TextColor3 = Color3.new(1,1,1)
saveBtn.BackgroundColor3 = Color3.fromRGB(70, 180, 80)
saveBtn.Font = Enum.Font.GothamBold
saveBtn.TextSize = 14
saveBtn.Parent = frame

local tpBtn = Instance.new("TextButton")
tpBtn.Size = UDim2.new(1, -20, 0, 40)
tpBtn.Position = UDim2.new(0, 10, 0, 65)
tpBtn.Text = "üöÄ Ir a Posici√≥n (suave)"
tpBtn.TextColor3 = Color3.new(1,1,1)
tpBtn.BackgroundColor3 = Color3.fromRGB(60, 120, 220)
tpBtn.Font = Enum.Font.GothamBold
tpBtn.TextSize = 14
tpBtn.Parent = frame

-- Variables
local savedPos = nil
local tweenTime = 2 -- segundos del movimiento suave

-- Guardar posici√≥n actual
saveBtn.MouseButton1Click:Connect(function()
	local char = player.Character
	if not char then return end
	local root = char:FindFirstChild("HumanoidRootPart")
	if not root then return end

	savedPos = root.Position
	saveBtn.Text = "‚úÖ Posici√≥n guardada"
	task.wait(1.5)
	saveBtn.Text = "üíæ Guardar Posici√≥n"
end)

-- Ir a la posici√≥n guardada suavemente
tpBtn.MouseButton1Click:Connect(function()
	if not savedPos then
		tpBtn.Text = "‚ùå Sin posici√≥n"
		task.wait(1.5)
		tpBtn.Text = "üöÄ Ir a Posici√≥n (suave)"
		return
	end

	local char = player.Character
	if not char then return end
	local hrp = char:FindFirstChild("HumanoidRootPart")
	local humanoid = char:FindFirstChildOfClass("Humanoid")
	if not hrp or not humanoid then return end

	humanoid.PlatformStand = true -- desactivar f√≠sicas durante el tween

	local goalCFrame = CFrame.new(savedPos + Vector3.new(0, 3, 0))
	local tweenInfo = TweenInfo.new(tweenTime, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut)
	local tween = TweenService:Create(hrp, tweenInfo, {CFrame = goalCFrame})

	tween:Play()
	tween.Completed:Wait()

	humanoid.PlatformStand = false
	tpBtn.Text = "‚úÖ Teletransportado"
	task.wait(1.5)
	tpBtn.Text = "üöÄ Ir a Posici√≥n (suave)"
end)
